version: '3.0'

rules:

  - rule: out-of-scope
    steps:
    - intent: out_of_scope
    - action: utter_out_of_scope
    - action: utter_anything_else

  - rule: submit course form, course not achieved
    condition:
      - active_loop: course_form
    steps:
    - action: course_form
    - active_loop: null
    - action: action_get_achievements
    - slot_was_set:
      - current_course_achieved: false
    - action: utter_anything_else

  - rule: submit course form, course achieved
    condition:
      - active_loop: course_form
    steps:
    - action: course_form
    - active_loop: null
    - action: action_get_achievements
    - slot_was_set:
      - current_course_achieved: true
    - action: utter_download_certificate
