version: '3.0'

rules:
  # - rule: respond to FAQs
  #   steps:
  #   - intent: faq
  #   - action: utter_faq
  #   - action: utter_anything_else
    
  # - rule: Implementation of the Two-Stage-Fallback
  #   steps:
  #   - intent: nlu_fallback
  #   - action: action_two_stage_fallback
  #   - active_loop: action_two_stage_fallback

  - rule: out-of-scope
    steps:
    - intent: out_of_scope
    - action: utter_out_of_scope
    - action: utter_anything_else

  # - rule: start course form courses available
  #   steps:
  #   - intent: get_achievements
  #   - action: action_get_courses_buttons
  #   - slot_was_set:
  #     - courses_available: True
  #   - action: utter_ask_which_course
  #   - action: course_form
  #   - active_loop: course_form

  # - rule: start course form courses unavailable
  #   steps:
  #   - intent: get_achievements
  #   - action: action_get_courses_buttons
  #   - slot_was_set:
  #     - courses_available: False
  #   - action: utter_anything_else

  - rule: submit course form
    condition:
      - active_loop: course_form
    steps:
    - action: course_form
    - active_loop: null
    - action: action_get_achievements
    - slot_was_set:
      - current_course_achieved: false
    - action: utter_anything_else
    - intent: affirm
    - action: utter_more_info

  # - rule: course achieved, more info
  #   condition:
  #   - slot_was_set:
  #     - current_course_achieved: False
  #   steps:
  #   - action: utter_anything_else
  #   - intent: affirm
  #   - action: utter_more_info

  # - rule: course achieved, no more info
  #   condition:
  #   - slot_was_set:
  #     - current_course_achieved: False
  #   steps:
  #   - action: utter_anything_else
  #   - intent: deny
  #   - action: utter_have_a_nice_day
